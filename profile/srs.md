# Software Requirements Specification (SRS)

## Project Title
멀티모달 분석(OCR·이미지·음성)을 활용한 보이스피싱 탐지 어플리케이션

## Project Description
본 프로젝트는 보이스피싱 범죄를 다각적으로 탐지하기 위해 OCR, 음성 분석, 컴퓨터 비전(CV) 기법을 융합한 모바일 애플리케이션을 개발한다.

제안 시스템은 (1) 통화 음성 데이터에서 의심 키워드를 실시간 분석하고, (2) 문자·문서 이미지를 OCR 기반으로 처리하여 피싱 패턴을 탐지하며, (3) 위조 문서 내 직인 영역을 컴퓨터 비전 기법으로 검출·분석한다.

이를 통해 사용자는 다양한 형태의 보이스피싱 시도에 대해 즉각적인 경고를 받을 수 있으며, 금융 범죄 예방 및 사회적 안전망 강화에 기여할 수 있다.

## Team Members
| Student ID | Name   |
|------------|--------|
| 22012286   | 김민서 |
| 22010958   | 김성현 |
| 22112144   | 류효정 |
| 22012124   | 박윤호 |
| 22212125   | 윤찬익 |
| 22112102   | 최현수 |

---

## 1. 요구사항 정의 (Requirements Description)

| ID   | 업무명 (기능) | 요약 | 세부요구사항 설명 | 입력변수 | 정상 입력값 partitioning | 예외 입력값 partitioning | 추적성 | 우선순위 | 테스트 결과 |
|------|---------------|---------|----------------------|-----------------|---------------|--------------------|--------------|----------|-------------|
| 1    | 보이스피싱 의심 통화 확인 |  |  |  |  |  |  |  |  |
| 1.1  | STT 변환 | NAVER Cloud의 CLOVA Speech 서비스로 STT 변환한다. |  |  |  |  |  |  |  |
| 1.1.1 |  |  | 사전에 사용자 동의를 받은 통화 녹음본 또는 통화 중 실시간 업로드된 오디오를 앱에서 서버로 WebSocket을 통해 전송한다. |  |  |  |  | H |  |
| 1.1.2 |  |  | 서버에서 전달받은 음성을 gRPC를 이용해 Naver CLOVA Speech로 전송한다. |  |  |  |  | H |  |
| 1.1.3 |  |  | CLOVA Speech는 이를 STT로 변환하여 전사 텍스트(대화자 분리, 타임스탬프, 구두점 포함)를 서버로 반환한다. |  |  |  | 6.5.1 | H |  |
| 1.2  | 의심 경고 | 위험도가 특정 기준을 초과하면 경고 메시지를 표시한다. |  |  |  |  |  |  |  |
| 1.2.1 |  |  | 위험도가 특정 기준을 초과하면, 서버는 앱 화면에 보이스피싱 경고 메시지를 표시한다. |  |  |  | 6.5.2 | L |  |
| 2    | 문서 위조 판별 |  |  |  |  |  |  |  |  |
| 2.1  | 의심 키워드 판별 | OCR을 통해 추출한 문서 내 텍스트를 기반으로 위조 의심 여부를 판단한다. |  |  |  |  |  |  |  |
| 2.1.1  |  |  | 시스템은 사용자에게 이미지 파일을 입력받는다. |  |  |  | 6.1 | H |  |
| 2.1.2  |  |  | OCR API를 호출하여 이미지에서 텍스트를 추출해 JSON 파일을 만든다. |  |  |  | 6.2.2 | M |  |
| 2.1.3  |  |  | JSON을 탐색하여 미리 설정해둔 의심 키워드가 감지되면 해당 키워드의 등급에 따른 점수를 더한다. |  |  |  | 6.3.1 | M |  |
| 2.1.4  |  |  | 최종 점수에 따라 문서의 위험도를 3단계로 판정하여 결과를 반환한다. |  |  |  | 6.4.1 | L |  |
| 2.2  | 레이아웃 분석 | OCR을 통해 추출한 문서 내 텍스트의 레이아웃 정보를 분석하여 위조 의심 여부를 판단한다. |  |  |  |  |  |  |  |
| 2.2.1 |  |  | 시스템은 OCR을 통해 추출한 텍스트의 위치, 크기 등 레이아웃 정보를 입력받는다. |  |  |  | 6.2.3 | M |  |
| 2.2.2 |  |  | 입력된 레이아웃 정보를 기반으로 사전에 정의된 4가지 배치 규칙(줄 간격, 높이, 정렬, 단어 간격)의 일관성을 검사하여 점수를 계산한다. |  |  |  | 6.3.2 | M |  |
| 2.2.3 |  |  | 최종 점수에 따라 문서의 위험도를 3단계로 판정하여 결과를 반환한다. |  |  |  | 6.4.1 | L |  |
| 2.3  | 문서 내 직인 탐지 | openCV를 통해 문서 내 직인 요소를 찾아 위조 의심 여부를 판단한다. |  |  |  |  |  |  |  |
| 2.3.1 |  |  | 시스템은 업로드된 문서 이미지에서 색상 마스크와 형태학적 연산(모폴로지 연산)을 통해 직인 후보 영역을 추출한다. |  |  |  | 6.1 | M |  |
| 2.3.2 |  |  | 컨투어 탐색 및 면적 기준 필터링을 수행하여 직인으로 추정되는 영역의 위치와 크기를 산출한다. |  |  |  | 6.3.3 | M |  |
| 2.3.3 |  |  | 정상 직인은 균일한 색상 분포와 명확한 원형 윤곽을 가지며, 왜곡 · 깨짐 · 불연속 패턴이 발견될 경우 위조 가능성이 높다고 판정한다. |  |  |  | 6.3.3 | M |  |
| 2.3.4 |  |  | 특징점 매칭(SIFT, ORB 등)을 통해 등록된 정상 직인과 비교하여 위조 여부를 보조 판정한다. |  |  |  | 6.3.3 | M |  |
| 2.3.5 |  |  | 최종 점수에 따라 문서의 위험도를 3단계로 판정하여 결과를 반환한다. |  |  |  | 6.4.1 | L |  |
| 3    | 피싱 의심 메시지 확인 |  |  |  |  |  |  |  |  |
| 3.1  | 메시지 발신자 전화번호 확인 | 데이터베이스 기반으로 발신자의 전화번호 의심 여부를 판단한다. |  |  |  |  |  |  |  |
| 3.1.1 |  |  | 사용자가 메시지 발신자의 전화번호를 앱에 입력 하면, 시스템은 해당 번호를 표준 형식으로 정규화하여 검증 가능한 상태로 변환한다. |  |  |  |  | L |  |
| 3.1.2 |  |  | 추출된 전화번호가 피싱 의심 데이터베이스에 존재하는지 확인하고, 존재할 경우 해당 번호의 신고 이력 및 위험도 정보를 조회한다. |  |  |  |  | L |  |
| 3.1.3 |  |  | 데이터베이스 조회 결과를 바탕으로 안전(화이트리스트), 주의(미확인), 위험(블랙리스트)의 3단계로 위험도를 판정하고, 각 등급에 맞는 시각적 알림을 사용자에게 표시한다. |  |  |  |  | L |  |
| 3.2  | 피싱 의심 메시지 내용 분석 | 메시지 내 텍스트를 기반으로 의심 여부를 판단한다. |  |  |  |  |  |  |  |
| 3.2.1 |  |  | 사용자가 메시지를 수신하면 시스템은 텍스트를 추출하고 표준 형식으로 정규화하여 검증 가능한 상태로 변환한다. |  |  |  | | M |  |
| 3.2.2 |  |  | 전처리된 텍스트를 파이썬 서버로 전송하여 워험도 점수를 계산한다 |  |  |  | 6.6.1 | L |  |
| 3.2.3 |  |  | 파이썬 서버로 부터 전달받은 위험도 점수를 기준으로 안전, 주의, 위험 3단계로 분류하여 최종 피싱 의심도를 판정한다. |  |  |  | 6.6.2 | L |  |
| 3.3  | 의심 링크 검증 | 메시지에 첨부된 외부 링크의 조작 여부를 판단한다. |  |  |  |  |  |  |  |
| 3.3.1 |  |  | 사용자는 메시지에 첨부된 URL을 앱에 입력한다. |  |  |  |  | M |  |
| 3.3.2 |  |  | 시스템은 URL 형식의 유효성을 검증하고 단축 URL인 경우 원본 URL로 확장한다. |  |  |  |  | M |  |
| 3.3.3 |  |  | 입력된 URL에서 도메인을 추출하여 사전 구축된 화이트리스트(신뢰 도메인)와 블랙리스트(피싱 도메인) 데이터베이스에서 매칭 여부를 확인한다. |  |  |  |  | M |  |
| 3.3.4 |  |  | 화이트/블랙리스트에 없는 도메인의 경우 HTTP referer 헤더필드, iframe 사용 유무, 타이포스쿼팅 등 의심 패턴을 검출하고, 최종적으로 안전/주의/위험 등급을 판정한다. |  |  |  |  | M |  |
| 4    | 회원가입 |  |  |  |  |  |  |  |  |
| 4.1  | 사용자 정보 입력 및 검증 | 사용자가 회원가입을 위해 필수 정보를 입력하고 시스템이 입력값의 유효성을 검증한다. |  |  |  |  |  |  |  |
| 4.1.1 |  |  | 사용자가 이메일 주소를 입력하면 시스템은 이메일 형식의 유효성을 검증하고, 중복 여부를 확인한다. |  |  |  |  | L |  |
| 4.1.2 |  |  | 사용자가 비밀번호를 입력하면 시스템은 보안 정책에 따라 비밀번호 강도를 검증하고 확인 입력을 통해 일치 여부를 확인한다. |  |  |  |  | L |  |
| 4.1.3 |  |  | 사용자가 이름, 전화번호 등 개인정보를 입력하면 시스템은 각 항목의 형식과 필수 여부를 검증한다. |  |  |  |  | L |  |
| 4.2  | 이메일 인증 | 입력된 이메일 주소의 유효성을 확인하기 위해 인증 메일을 발송하고 사용자의 인증을 처리한다. |  |  |  |  |  |  |  |
| 4.2.1 |  |  | 시스템은 사용자가 입력한 이메일 주소로 고유한 인증 코드가 포함된 인증 메일을 발송한다. |  |  |  |  | L |  |
| 4.2.2 |  |  | 사용자가 이메일로 받은 6자리 인증 코드를 입력하면 시스템은 코드의 유효성과 만료 시간을 확인한다. |  |  |  |  | L |  |
| 4.2.3 |  |  | 인증이 성공하면 시스템은 해당 이메일을 인증 완료 상태로 업데이트하고 회원가입 절차를 진행한다. |  |  |  |  | L |  |
| 4.3  | 계정 생성 및 프로필 설정 | 인증이 완료된 사용자 정보로 계정을 생성하고 초기 프로필을 설정한다. |  |  |  |  |  |  |  |
| 4.3.1 |  |  | 시스템은 검증된 사용자 정보를 데이터베이스에 저장하여 새로운 사용자 계정을 생성한다. |  |  |  |  | L |  |
| 4.3.2 |  |  | 회원가입이 성공적으로 완료되면 사용자에게 환영 메시지를 표시한다. |  |  |  |  | L |  |
| 5    | 로그인 |  |  |  |  |  |  |  |  |
| 5.1  | 사용자 인증 | 등록된 사용자가 이메일과 비밀번호를 입력하여 신원을 확인하고 앱에 접근한다. |  |  |  |  |  |  |  |
| 5.1.1 |  |  | 사용자가 이메일 주소와 비밀번호를 입력하면 시스템은 입력값의 기본적인 형식을 검증한다. |  |  |  |  | L |  |
| 5.1.2 |  |  | 시스템은 입력된 이메일로 사용자 계정을 조회하고, 암호화된 비밀번호와 입력된 비밀번호를 비교하여 인증한다. |  |  |  |  | L |  |
| 5.2  | 세션 관리 | 성공적인 로그인 후 사용자 세션을 생성하고 관리한다. |  |  |  |  |  |  |  |
| 5.2.1 |  |  | 인증이 성공하면 시스템은 고유한 세션 토큰을 생성하여 사용자의 로그인 상태를 유지한다. |  |  |  |  | L |  |
| 5.2.2 |  |  | 생성된 세션 토큰을 안전하게 저장하고 적절한 만료 시간을 설정한다. |  |  |  |  | L |  |
| 6    | 네트워크 API |  |  |  |  |  |  |  |  |
| 6.1  | 이미지 업로드 API | 사용자가 문서 이미지를 서버로 업로드할 수 있도록 한다. |  |  |  |  | 2.1.1 2.3.1 |  |  |
| 6.1.1 |  |  | 단일 이미지 파일을 서버에 업로드할 수 있어야 한다. 서버는 업로드된 이미지를 검증 후 저장한다. |  |  |  |  | H |  |
| 6.1.2 |  |  | 여러 개의 이미지 파일을 동시에 업로드할 수 있어야 한다. 서버는 다중 업로드된 이미지를 리스트로 관리하고 순차 처리한다. |  |  |  |  | L |  |
| 6.2  | OCR 연동 API | 업로드된 이미지를 OCR 모듈에 전달하여 텍스트를 추출한다. |  |  |  |  |  |  |  |
| 6.2.1 |  |  | 서버는 이미지 파일을 OCR 모듈로 전송한다. |  |  |  |  | H |  |
| 6.2.2 |  |  | 이미지에서 텍스트를 추출해 JSON 파일을 만든다. |  |  |  | 2.1.2 | H |  |
| 6.2.3 |  |  | 텍스트의 위치, 크기 등 레이아웃 정보를 추출한다. |  |  |  | 2.2.1 | H |  |
| 6.2.4 |  |  | OCR 모듈에서 변환된 텍스트 결과를 서버가 수신한다. |  |  |  |  | H |  |
| 6.3  | 위조 판별 API | OCR 및 OpenCV 기반 로직으로 위조 여부를 판별한다. |  |  |  |  |  |  |  |
| 6.3.1 |  |  | 텍스트 기반 분석을 수행한다. 위험 키워드, 반복 패턴 등을 점수화하여 판별한다. |  |  |  | 2.1.3 | M |  |
| 6.3.2 |  |  | 레이아웃 기반 분석을 수행한다. 줄 간격, 정렬, 간격 등 규칙 위반 시 점수를 가산한다. |  |  |  | 2.2.2 | M |  |
| 6.3.3 |  |  | 직인 탐지 분석을 수행한다. 위조 가능성을 평가한다. |  |  |  | 2.3.3 | M |  |
| 6.4  | 결과 반환 API | 최종 위조 판별 결과를 클라이언트에 반환한다. |  |  |  |  |  |  |  |
| 6.4.1 |  |  | 문서별 위험도 점수와 상태(정상/의심/위조)를 포함한다. |  |  |  | 2.1.4 2.2.3 2.3.5 | L |  |
| 6.5 | 보이스피싱 의심 패턴 분석 API | 탐지 모델을 사용하여 전사 텍스트 내 보이스피싱 의심 키워드를 분석하고 위험도 점수를 산출한다. |  |  |  |  | 1.2 |  |  |
| 6.5.1 |  |  | 탐지 모델로 전달된 전사 텍스트에서 핵심 의심 키워드를 인식 및 검출한다. |  |  |  | 1.1.3 | H |  |
| 6.5.2 |  |  | 탐지 모델은 검출한 의심 항목에 사전 학습된 위험도 가중치를 부여하고, 반복 발생 시 위험도 점수를 가산한다. |  |  |  | 1.2.1 | H |  |
| 6.6 | 피싱 의심 메시지 내용 분석 API | 3.2에 정의된 분석 로직을 수행하는 API를 제공한다. |  |  |  |  | 3.2 |  |  |
| 6.6.1 |  |  | 전처리된 메세지 텍스트를 전달받아 사전 학습된 모델에 입력한다.|  |  |  | 3.2.2 | H |  |
| 6.6.2 |  |  | 입력된 데이터를 키워드 빈도 및 가중치 기반으로 최종 위험도 점수를 합산하여 반환한다.  |  |  |  | 3.2.3 | L |  |
