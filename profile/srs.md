# Software Requirements Specification (SRS)

## Project Title
멀티모달 분석(OCR·이미지·음성)을 활용한 보이스피싱 탐지 어플리케이션

## Project Description
본 프로젝트는 보이스피싱 범죄를 다각적으로 탐지하기 위해 OCR, 음성 분석, 컴퓨터 비전(CV) 기법을 융합한 모바일 애플리케이션을 개발한다.

제안 시스템은 (1) 통화 음성 데이터에서 의심 키워드를 실시간 분석하고, (2) 문자·문서 이미지를 OCR 기반으로 처리하여 피싱 패턴을 탐지하며, (3) 위조 문서 내 직인 영역을 컴퓨터 비전 기법으로 검출·분석한다.

이를 통해 사용자는 다양한 형태의 보이스피싱 시도에 대해 즉각적인 경고를 받을 수 있으며, 금융 범죄 예방 및 사회적 안전망 강화에 기여할 수 있다.

## Team Members
| Student ID | Name   |
|------------|--------|
| 22012286   | 김민서 |
| 22010958   | 김성현 |
| 22112144   | 류효정 |
| 22012124   | 박윤호 |
| 22212125   | 윤찬익 |
| 22112102   | 최현수 |

---

## 1. 요구사항 정의 (Requirements Description)

| ID   | 업무명 (기능) | 요약 | 세부요구사항 설명 | 입력변수 | 정상 입력값 partitioning | 예외 입력값 partitioning | 추적성 | 우선순위 | 테스트 결과 |
|------|---------------|---------|----------------------|-----------------|---------------|--------------------|--------------|----------|-------------|
| 1    | 보이스피싱 의심 통화 확인 |  |  |  |  |  |  |  |  |
| 1.1  | STT 변환 | NAVER Cloud의 CLOVA Speech 서비스로 STT 변환한다. |  |  |  |  |  |  |  |
| 1.1.1 |  |  | 사전에 사용자 동의를 받은 통화 녹음본 또는 통화 중 실시간 업로드된 오디오를 앱에서 서버로 WebSocket을 통해 전송한다. | 오디오 스트림 | 스트리밍: PCM 16kHz, 네트워크 정상 | CASE 1: 권한 거부(마이크)<br>CASE 2: 네트워크 끊김<br>CASE 3: 과도한 사용량 |  | H |  |
| 1.1.2 |  |  | 서버에서 전달받은 음성을 gRPC를 이용해 Naver CLOVA Speech로 전송한다. | 음성 데이터 (gRPC 스트림)<br>API 인증 정보 | CASE 1: 지원되는 오디오 포맷 (PCM, 16kHz, Mono)<br>CASE 2: 안정적인 gRPC 연결<br>CASE 3: 유효한 API 인증 정보 | CASE 1: 지원하지 않는 오디오 포맷<br>CASE 2: gRPC 연결 실패 또는 중단<br>CASE 3: API 인증 실패 또는 권한 없음 |  | H |  |
| 1.1.3 | | | CLOVA Speech는 이를 STT로 변환하여 전사 텍스트(대화자 분리, 타임스탬프, 구두점 포함)를 서버로 반환한다. | CLOVA Speech STT 결과 데이터 | CASE 1: 변환된 텍스트 포함<br>CASE 2: 대화자/타임스탬프 정보 포함<br>CASE 3: 음성이 없는 경우 | CASE 1: 손상된 데이터 수신<br>CASE 2: API 내부 오류 코드 반환<br>CASE 3: 응답 시간 초과 | 6.5.1 | H | |
| 1.2  | 의심 경고 | 위험도가 특정 기준을 초과하면 경고 메시지를 표시한다. |  |  |  |  |  |  |  |
| 1.2.1 | | | 위험도가 특정 기준을 초과하면, 서버는 앱 화면에 보이스피싱 경고 메시지를 표시한다. | 위험도 값 | CASE 1: 경고 조건 충족<br>CASE 2: 앱과 정상 통신 | CASE 1: 잘못된 데이터 수신<br>CASE 2: 앱과 통신 실패<br>CASE 3: 앱 응답 시간 초과 | 6.5.2 | L | |
| 2    | 문서 위조 판별 |  |  |  |  |  |  |  |  |
| 2.1  | 의심 키워드 판별 | OCR을 통해 추출한 문서 내 텍스트를 기반으로 위조 의심 여부를 판단한다. |  |  |  |  |  |  |  |
| 2.1.1 | | | 시스템은 사용자에게 이미지 파일을 입력받는다. | 이미지 파일 | CASE 1: 지원 파일 형식 (JPG, PNG)<br>CASE 2: 제한 크기 이내 파일<br>CASE 3: 갤러리 접근 권한 허용 | CASE 1: 미지원 파일 형식<br>CASE 2: 파일 크기 제한 초과<br>CASE 3: 접근 권한 거부 | 6.1 | H | |
| 2.1.2 | | | OCR API를 호출하여 이미지에서 텍스트를 추출해 JSON 파일을 만든다. | 이미지 파일<br>API 인증 정보 | CASE 1: 텍스트가 있는 이미지<br>CASE 2: 유효한 API 인증 정보<br>CASE 3: API 정상 응답 | CASE 1: API 인증 실패<br>CASE 2: 텍스트 없는 이미지<br>CASE 3: API 응답 시간 초과 | 6.2.2 | M | |
| 2.1.3 | | | JSON을 탐색하여 미리 설정해둔 의심 키워드가 감지되면 해당 키워드의 등급에 따른 점수를 더한다. | JSON 데이터<br>의심 키워드 목록 | CASE 1: 유효한 JSON 형식<br>CASE 2: 의심 키워드 포함<br>CASE 3: 의심 키워드 미포함 | CASE 1: 손상된 JSON 파일<br>CASE 2: 텍스트 없는 JSON<br>CASE 3: 키워드 목록 접근 불가 | 6.3.1 | M | |
| 2.1.4 | | | 최종 점수에 따라 문서의 위험도를 3단계로 판정하여 결과를 반환한다. | 최종 점수 | CASE 1: '안전' 등급 점수<br>CASE 2: '의심' 등급 점수<br>CASE 3: '위험' 등급 점수 | CASE 1: 숫자가 아닌 값<br>CASE 2: 데이터 누락 (Null)<br>CASE 3: 유효 범위 초과 점수 | 6.4.1 | L | |
| 2.2  | 레이아웃 분석 | OCR을 통해 추출한 문서 내 텍스트의 레이아웃 정보를 분석하여 위조 의심 여부를 판단한다. |  |  |  |  |  |  |  |
| 2.2.1 | | | 시스템은 사용자에게 이미지 파일을 입력받는다. | 이미지 파일 | CASE 1: 지원 파일 형식 (JPG, PNG)<br>CASE 2: 제한 크기 이내 파일<br>CASE 3: 갤러리 접근 권한 허용 | CASE 1: 미지원 파일 형식<br>CASE 2: 파일 크기 제한 초과<br>CASE 3: 접근 권한 거부 | 6.1 | H | |
| 2.2.2 | | | 시스템은 OCR을 통해 추출한 텍스트의 위치, 크기 등 레이아웃 정보를 입력받는다. | OCR 레이아웃 데이터 | CASE 1: 유효한 데이터 형식 (JSON)<br>CASE 2: 위치/크기 정보 포함<br>CASE 3: 텍스트 없는 경우 (빈 값) | CASE 1: 손상된 데이터<br>CASE 2: 필수 정보 누락<br>CASE 3: 유효하지 않은 값 (음수 등) | 6.2.3 | M | |
| 2.2.3 | | | 입력된 레이아웃 정보를 기반으로 사전에 정의된 4가지 배치 규칙(줄 간격, 높이, 정렬, 단어 간격)의 일관성을 검사하여 점수를 계산한다. | 레이아웃 정보<br>배치 규칙 | CASE 1: 유효한 레이아웃 정보<br>CASE 2: 분석 가능한 텍스트 요소<br>CASE 3: 정상적으로 불러온 규칙 | CASE 1: 손상된 레이아웃 정보<br>CASE 2: 분석 불가능 (요소 부족)<br>CASE 3: 규칙 불러오기 실패 | 6.3.2 | M | |
| 2.2.4 | | | 최종 점수에 따라 문서의 위험도를 3단계로 판정하여 결과를 반환한다. | 최종 점수 | CASE 1: '안전' 등급 점수<br>CASE 2: '의심' 등급 점수<br>CASE 3: '위험' 등급 점수 | CASE 1: 숫자가 아닌 값<br>CASE 2: 데이터 누락 (Null)<br>CASE 3: 유효 범위 초과 점수 | 6.4.1 | L | |
| 2.3  | 문서 내 직인 탐지 | openCV를 통해 문서 내 직인 요소를 찾아 위조 의심 여부를 판단한다. |  |  |  |  |  |  |  |
| 2.3.1 | | | 시스템은 업로드된 문서 이미지에서 색상 마스크와 형태학적 연산(모폴로지 연산)을 통해 직인 후보 영역을 추출한다. | 문서 이미지 파일 | CASE 1: 지원 파일 형식 (JPG, PNG)<br>CASE 2: 분석 가능한 해상도<br>CASE 3: 직인 포함 가능성 있는 문서 | CASE 1: 손상된 이미지 파일<br>CASE 2: 해상도가 너무 낮은 이미지<br>CASE 3: 분석 불가능한 이미지 (단색 등) | 6.1 | M | |
| 2.3.2 | | | 컨투어 탐색 및 면적 기준 필터링을 수행하여 직인으로 추정되는 영역의 위치와 크기를 산출한다. | 직인 후보 영역 데이터 | CASE 1: 분석 가능한 컨투어 존재<br>CASE 2: 면적 기준 내 컨투어 포함<br>CASE 3: 유효한 데이터 형식 | CASE 1: 감지된 컨투어 없음<br>CASE 2: 손상된 입력 데이터<br>CASE 3: 모든 컨투어 기준 미달 | 6.3.3 | M | |
| 2.3.3 | | | 정상 직인은 균일한 색상 분포와 명확한 원형 윤곽을 가지며, 왜곡 · 깨짐 · 불연속 패턴이 발견될 경우 위조 가능성이 높다고 판정한다. | 직인 추정 영역 이미지 | CASE 1: 균일한 색상 분포<br>CASE 2: 명확한 원형 윤곽<br>CASE 3: 왜곡/깨짐 없는 패턴 | CASE 1: 불균일한 색상 분포<br>CASE 2: 깨지거나 왜곡된 윤곽<br>CASE 3: 분석 불가능한 이미지 | 6.3.3 | M | |
| 2.3.4 | | | 특징점 매칭(SIFT, ORB 등)을 통해 등록된 정상 직인과 비교하여 위조 여부를 보조 판정한다. | 직인 후보 이미지<br>등록된 정상 직인 데이터 | CASE 1: 분석 가능한 후보 이미지<br>CASE 2: 정상 직인 DB 접근 성공<br>CASE 3: 특징점 매칭 성공 (일치/불일치) | CASE 1: 특징점 추출 불가 이미지<br>CASE 2: 정상 직인 DB 접근 실패<br>CASE 3: 매칭 알고리즘 오류 | 6.3.3 | M | |
| 2.3.5 | | | 최종 점수에 따라 문서의 위험도를 3단계로 판정하여 결과를 반환한다. | 최종 점수 | CASE 1: '안전' 등급 점수<br>CASE 2: '의심' 등급 점수<br>CASE 3: '위험' 등급 점수 | CASE 1: 숫자가 아닌 값<br>CASE 2: 데이터 누락 (Null)<br>CASE 3: 유효 범위 초과 점수 | 6.4.1 | L | |
| 3    | 피싱 의심 메시지 확인 |  |  |  |  |  |  |  |  |
| 3.1  | 메시지 발신자 전화번호 확인 | 데이터베이스 기반으로 발신자의 전화번호 의심 여부를 판단한다. |  |  |  |  |  |  |  |
| 3.1.1 | | | 사용자가 메시지 발신자의 전화번호를 앱에 입력 하면, 시스템은 해당 번호를 표준 형식으로 정규화하여 검증 가능한 상태로 변환한다. | 발신자 전화번호 | CASE 1: 일반 형식 (01012345678)<br>CASE 2: 하이픈(-) 포함<br>CASE 3: 국제 번호 형식 | CASE 1: 숫자가 아닌 값 입력<br>CASE 2: 유효하지 않은 자릿수<br>CASE 3: 입력값 없음 (Null) | | L | |
| 3.1.2 | | | 추출된 전화번호가 피싱 의심 데이터베이스에 존재하는지 확인하고, 존재할 경우 해당 번호의 신고 이력 및 위험도 정보를 조회한다. | 정규화된 전화번호<br>피싱 DB | CASE 1: DB에 번호 존재<br>CASE 2: DB에 번호 미존재<br>CASE 3: DB 정상 연결 | CASE 1: DB 연결 실패<br>CASE 2: 조회 시간 초과<br>CASE 3: 권한 없는 DB 접근 | | L | |
| 3.1.3 | | | 데이터베이스 조회 결과를 바탕으로 안전(화이트리스트), 주의(미확인), 위험(블랙리스트)의 3단계로 위험도를 판정하고, 각 등급에 맞는 시각적 알림을 사용자에게 표시한다. | DB 조회 결과 | CASE 1: '안전' 등급 결과<br>CASE 2: '주의' 등급 결과<br>CASE 3: '위험' 등급 결과 | CASE 1: 유효하지 않은 DB 결과<br>CASE 2: 앱 알림 표시 실패<br>CASE 3: 데이터 누락 (Null) | | L | |
| 3.2  | 피싱 의심 메시지 내용 분석 | 메시지 내 텍스트를 기반으로 의심 여부를 판단한다. |  |  |  |  |  |  |  |
| 3.2.1 | | | 사용자가 메시지를 수신하면 시스템은 텍스트를 추출하고 표준 형식으로 정규화하여 검증 가능한 상태로 변환한다. | 수신 메시지 텍스트 | CASE 1: 일반적인 문자 메시지<br>CASE 2: 특수문자/이모티콘 포함<br>CASE 3: 장문 메시지 | CASE 1: 텍스트 없는 메시지 (공백)<br>CASE 2: 읽을 수 없는 형식 (손상)<br>CASE 3: 메시지 접근/추출 실패 | | M | |
| 3.2.2 | | | 전처리된 텍스트를 서버로 전송하여 워험도 점수를 계산한다 | 전처리된 텍스트 | CASE 1: 서버로 정상 전송<br>CASE 2: 의심 키워드 포함 텍스트<br>CASE 3: 일반 텍스트 | CASE 1: 서버 연결 실패<br>CASE 2: 서버 내부 오류<br>CASE 3: 잘못된 데이터 형식 | 6.6.1 | L | |
| 3.2.3 | | | 서버로 부터 전달받은 위험도 점수를 기준으로 안전, 주의, 위험 3단계로 분류하여 최종 피싱 의심도를 판정한다. | 위험도 점수 | CASE 1: '안전' 등급 점수<br>CASE 2: '주의' 등급 점수<br>CASE 3: '위험' 등급 점수 | CASE 1: 숫자가 아닌 값<br>CASE 2: 데이터 누락 (Null)<br>CASE 3: 유효 범위 초과 점수 | 6.6.2 | L | |
| 3.3  | 의심 링크 검증 | 메시지에 첨부된 외부 링크의 조작 여부를 판단한다. |  |  |  |  |  |  |  |
| 3.3.1 | | | 사용자는 메시지에 첨부된 URL을 앱에 입력한다. | URL 주소 | CASE 1: http/https 형식<br>CASE 2: 단축 URL<br>CASE 3: www 포함/미포함 주소 | CASE 1: URL 형식이 아닌 텍스트<br>CASE 2: 입력값 없음 (Null)<br>CASE 3: 지원하지 않는 프로토콜 | | M | |
| 3.3.2 | | | 시스템은 URL 형식의 유효성을 검증하고 단축 URL인 경우 원본 URL로 확장한다. | URL 주소 | CASE 1: 유효한 URL 형식<br>CASE 2: 확장 가능한 단축 URL<br>CASE 3: 정상적인 서버 응답 | CASE 1: 유효하지 않은 URL 형식<br>CASE 2: URL 확장 실패<br>CASE 3: 서버 응답 시간 초과 | | M | |
| 3.3.3 | | | 입력된 URL에서 도메인을 추출하여 사전 구축된 화이트리스트(신뢰 도메인)와 블랙리스트(피싱 도메인) 데이터베이스에서 매칭 여부를 확인한다. | URL<br>화이트/블랙리스트 DB | CASE 1: 블랙리스트에 도메인 존재<br>CASE 2: 화이트리스트에 도메인 존재<br>CASE 3: DB에 도메인 미존재 | CASE 1: DB 연결 실패<br>CASE 2: 도메인 추출 실패<br>CASE 3: 조회 시간 초과 | | M | |
| 3.3.4 | | | 화이트/블랙리스트에 없는 도메인의 경우 HTTP referer 헤더필드, iframe 사용 유무, 타이포스쿼팅 등 의심 패턴을 검출하고, 최종적으로 안전/주의/위험 등급을 판정한다. | 검사 대상 URL<br>HTTP Referer 정보<br>페이지 소스 | CASE 1: 유효한 URL 형식<br>CASE 2: Referer 헤더 존재<br>CASE 3: 분석 가능한 페이지 소스 | CASE 1: 유효하지 않은 URL<br>CASE 2: Referer 정보 누락<br>CASE 3: 페이지 소스 분석 실패 | | M | |
| 4    | 회원가입 |  |  |  |  |  |  |  |  |
| 4.1  | 사용자 정보 입력 및 검증 | 사용자가 회원가입을 위해 필수 정보를 입력하고 시스템이 입력값의 유효성을 검증한다. |  |  |  |  |  |  |  |
| 4.1.1 | | | 사용자가 이메일 주소를 입력하면 시스템은 이메일 형식의 유효성을 검증하고, 중복 여부를 확인한다. | 사용자 입력 이메일 | CASE 1: 유효한 이메일 형식<br>CASE 2: 중복되지 않은 이메일 | CASE 1: 유효하지 않은 형식<br>CASE 2: 이미 가입된 이메일<br>CASE 3: 값을 입력하지 않음 | | L | |
| 4.1.2 |  |  | 사용자가 비밀번호를 입력하면 시스템은 보안 정책에 따라 비밀번호 강도를 검증하고 확인 입력을 통해 일치 여부를 확인한다. | 비밀번호,<br>비밀번호 확인 | CASE 1: 강한 비밀번호 (8자 이상, 영문+숫자+특수문자)<br>CASE 2: 중간 강도 비밀번호 (8자 이상, 영문+숫자)<br>CASE 3: 두 비밀번호 입력이 일치 | CASE 1: 너무 짧은 비밀번호 (8자 미만)<br>CASE 2: 단순한 패턴 (123456, password 등)<br>CASE 3: 비밀번호 불일치 |  | L |  |
| 4.1.3 |  |  | 사용자가 이름, 전화번호 등 개인정보를 입력하면 시스템은 각 항목의 형식과 필수 여부를 검증한다. | 이름,<br>전화번호 | CASE 1: 한글 이름 (2-10자)<br>CASE 2: 정상 휴대폰 번호 (010-xxxx-xxxx) | CASE 1: 특수문자, 숫자 포함 이름<br>CASE 2: 잘못된 전화번호 형식 |  | L |  |
| 4.2  | 이메일 인증 | 입력된 이메일 주소의 유효성을 확인하기 위해 인증 메일을 발송하고 사용자의 인증을 처리한다. |  |  |  |  |  |  |  |
| 4.2.1 |  |  | 시스템은 사용자가 입력한 이메일 주소로 고유한 인증 코드가 포함된 인증 메일을 발송한다. | 검증된 이메일 주소 | CASE 1: 일반 이메일 서비스 (Gmail, Naver 등)<br>CASE 2: 기업 이메일 (@company.com)<br>CASE 3: 교육기관 이메일 (@edu 도메인) | CASE 1: 메일 서버 오류 (SMTP 연결 실패)<br>CASE 2: 스팸 필터에 의한 차단<br>CASE 3: 존재하지 않는 이메일 주소 |  | L |  |
| 4.2.2 |  |  | 사용자가 이메일로 받은 6자리 인증 코드를 입력하면 시스템은 코드의 유효성과 만료 시간을 확인한다. | 6자리 인증 코드 | CASE 1: 올바른 인증 코드 (유효 시간 내)<br>CASE 2: 대소문자 구분 없는 코드 입력<br>CASE 3: 공백 포함 코드 입력 (자동 제거) | CASE 1: 잘못된 인증 코드<br>CASE 2: 만료된 인증 코드 (5분 경과)<br>CASE 3: 최대 시도 횟수 초과 (5회) |  | L |  |
| 4.2.3 |  |  | 인증이 성공하면 시스템은 해당 이메일을 인증 완료 상태로 업데이트하고 회원가입 절차를 진행한다. | 인증 성공 결과 | CASE 1: 첫 번째 시도에서 인증 성공<br>CASE 2: 여러 번 시도 후 인증 성공<br>CASE 3: 재발송 후 인증 성공 | CASE 1: DB 업데이트 실패<br>CASE 2: 동시 접속으로 인한 충돌<br>CASE 3: 시스템 오류로 인한 처리 실패 |  | L |  |
| 4.3  | 계정 생성 및 프로필 설정 | 인증이 완료된 사용자 정보로 계정을 생성하고 초기 프로필을 설정한다. |  |  |  |  |  |  |  |
| 4.3.1 |  |  | 시스템은 검증된 사용자 정보를 데이터베이스에 저장하여 새로운 사용자 계정을 생성한다. | 검증된 사용자 정보 (이메일, 비밀번호, 개인정보) | CASE 1: 모든 필수 정보 입력 완료<br>CASE 2: 선택 정보 일부 누락<br>CASE 3: 추가 정보 입력 완료 | CASE 1: 데이터베이스 연결 오류<br>CASE 2: 중복 계정 생성 시도<br>CASE 3: 저장 공간 부족 |  | L |  |
| 4.3.2 |  |  | 회원가입이 성공적으로 완료되면 사용자에게 환영 메시지를 표시한다. | 완료된 사용자 계정 | CASE 1: 정상 회원가입 완료<br>CASE 2: 추가 정보 입력 권유 | CASE 1: UI 표시 오류<br>CASE 2: 환영 메일 발송 실패 |  | L |  |
| 5    | 로그인 |  |  |  |  |  |  |  |  |
| 5.1  | 사용자 인증 | 등록된 사용자가 이메일과 비밀번호를 입력하여 신원을 확인하고 앱에 접근한다. |  |  |  |  |  |  |  |
| 5.1.1 |  |  | 사용자가 이메일 주소와 비밀번호를 입력하면 시스템은 입력값의 기본적인 형식을 검증한다. | 이메일,<br>비밀번호 | CASE 1: 등록된 이메일과 정확한 비밀번호<br>CASE 2: 대소문자 구분 없는 이메일 입력<br>CASE 3: 앞뒤 공백이 있는 입력값 | CASE 1: 빈 입력값 (이메일 또는 비밀번호 누락)<br>CASE 2: 잘못된 이메일 형식<br>CASE 3: 등록되지 않은 이메일 |  | L |  |
| 5.1.2 |  |  | 시스템은 입력된 이메일로 사용자 계정을 조회하고, 암호화된 비밀번호와 입력된 비밀번호를 비교하여 인증한다. | 사용자 이메일,<br>입력된 비밀번호 | CASE 1: 정확한 계정 정보 매칭<br>CASE 2: 활성화된 계정 상태<br>CASE 3: 비밀번호 해시 검증 성공 | CASE 1: 계정이 존재하지 않음<br>CASE 2: 비밀번호 불일치<br>CASE 3: 비활성화된 계정 (정지, 삭제 등) |  | L |  |
| 5.2  | 세션 관리 | 성공적인 로그인 후 사용자 세션을 생성하고 관리한다. |  |  |  |  |  |  |  |
| 5.2.1 |  |  | 인증이 성공하면 시스템은 고유한 세션 토큰을 생성하여 사용자의 로그인 상태를 유지한다. | 인증된 사용자 ID | CASE 1: 새로운 세션 토큰 생성<br>CASE 3: 보안 토큰 생성 (JWT 방식) | CASE 1: 토큰 생성 알고리즘 오류<br>CASE 2: 세션 저장소 접근 실패<br>CASE 3: 토큰 중복 생성 |  | L |  |
| 5.2.2 |  |  | 생성된 세션 토큰을 안전하게 저장하고 적절한 만료 시간을 설정한다. | 세션 토큰,<br>사용자 설정(자동 로그인 등) | CASE 1: 기본 세션 (24시간 유효)<br>CASE 2: 자동 로그인 (30일 유효)<br>CASE 3: 보안 모드 (4시간 유효) | CASE 1: 세션 저장 공간 부족<br>CASE 2: 만료 시간 설정 오류<br>CASE 3: 세션 암호화 실패 |  | L |  |
| 6    | 네트워크 API |  |  |  |  |  |  |  |  |
| 6.1  | 이미지 업로드 API | 사용자가 문서 이미지를 서버로 업로드할 수 있도록 한다. |  |  |  |  | 2.1.1 2.3.1 |  |  |
| 6.1.1 |  |  | 단일 이미지 파일을 서버에 업로드할 수 있어야 한다. 서버는 업로드된 이미지를 검증 후 저장한다. | 이미지 파일 | CASE 1: 허용 확장자(JPG, PNG)<br>CASE 2: 허용 용량(10MB 이하) | CASE 1: 미허용 확장자(EXE)<br>CASE 2: 용량 초과<br>CASE 3: 손상된 파일 |  | H |  |
| 6.1.2 |  |  | 여러 개의 이미지 파일을 동시에 업로드할 수 있어야 한다. 서버는 다중 업로드된 이미지를 리스트로 관리하고 순차 처리한다. | 이미지 파일 목록 | CASE 1: 다중 파일(2\~10개)<br>CASE 2: 허용 확장자 혼합 | CASE 1: 최대 개수 초과<br>CASE 2: 파일 목록 없음<br>CASE 3: 목록 내 비허용 파일 포함 |  | L |  |
| 6.2  | OCR 연동 API | 업로드된 이미지를 OCR 모듈에 전달하여 텍스트를 추출한다. |  |  |  |  |  |  |  |
| 6.2.1 |  |  | 서버는 이미지 파일을 OCR 모듈로 전송한다. | 이미지 데이터 | CASE 1: 유효한 이미지<br>CASE 2: 적정 해상도 | CASE 1: 데이터 전송 실패<br>CASE 2: OCR 모듈 연결 끊김<br>CASE 3: 타임아웃 |  | H |  |
| 6.2.2 |  |  | 이미지에서 텍스트를 추출해 JSON 파일을 만든다. | OCR 출력 데이터(텍스트) | CASE 1: 텍스트 추출 성공<br>CASE 2: 빈 텍스트 추출 | CASE 1: 출력 데이터 오류(비정형)<br>CASE 2: JSON 변환 실패(구문 오류)<br>CASE 3: 필수 필드 누락 | 2.1.2 | H |  |
| 6.2.3 |  |  | 텍스트의 위치, 크기 등 레이아웃 정보를 추출한다. | OCR 출력 데이터(텍스트, 좌표) | CASE 1: 모든 텍스트의 좌표 추출 성공<br>CASE 2: 텍스트 블록별 좌표 추출<br>CASE 3: 빈 텍스트 추출 | CASE 1: 좌표 정보 누락<br>CASE 2: 비정상적인 좌표값(음수 등)<br>CASE 3: OCR 원본 데이터 오류 | 2.2.1 | H |  |
| 6.2.4 |  |  | OCR 모듈에서 변환된 텍스트 결과를 서버가 수신한다. | OCR 응답 데이터(JSON) | CASE 1: 정상적인 텍스트 결과 수신<br>CASE 2: 빈 텍스트 결과 수신 | CASE 1: 데이터 형식 오류(JSON 파싱 실패)<br>CASE 2: 연결 끊김/전송 실패<br>CASE 3: 서버 수신 타임아웃 |  | H |  |
| 6.3  | 위조 판별 API | OCR 및 OpenCV 기반 로직으로 위조 여부를 판별한다. |  |  |  |  |  |  |  |
| 6.3.1 |  |  | 텍스트 기반 분석을 수행한다. 위험 키워드, 반복 패턴 등을 점수화하여 판별한다. | 분석 대상 텍스트,<br>위험 키워드 리스트,<br>패턴 분석 모델 | CASE 1: 정상적인 텍스트 입력<br>CASE 2: 위험 키워드 포함 텍스트<br>CASE 3: 반복 패턴 포함 텍스트 | CASE 1: 빈 텍스트 입력<br>CASE 2: 분석 모델 로딩 실패 | 2.1.3 | M |  |
| 6.3.2 |  |  | 레이아웃 기반 분석을 수행한다. 줄 간격, 정렬, 간격 등 규칙 위반 시 점수를 가산한다. | 텍스트 레이아웃 정보,<br>레이아웃 규칙 셋 | CASE 1: 규칙을 준수한 레이아웃<br>CASE 2: 경미한 규칙 위반 포함<br>CASE 3: 규칙 위반 항목 다수 포함 | CASE 1: 레이아웃 정보 불충분<br>CASE 2: 분석 중단 오류 발생<br>CASE 3: 측정 불가능한 데이터 | 2.2.2 | M |  |
| 6.3.3 |  |  | 직인 탐지 분석을 수행한다. 위조 가능성을 평가한다. | 이미지 영역(직인 후보 영역),<br>직인 원본 데이터 | CASE 1: 정상적인 직인 탐지<br>CASE 2: 직인 탐지 실패<br>CASE 3: 탐지된 직인이 원본과 일치 | CASE 1: 탐지 영역 오류<br>CASE 2: 원본 데이터 연결 실패<br>CASE 3: 위조된 직인 | 2.3.3 | M |  |
| 6.4  | 결과 반환 API | 최종 위조 판별 결과를 클라이언트에 반환한다. |  |  |  |  |  |  |  |
| 6.4.1 |  |  | 문서별 위험도 점수와 상태(정상/의심/위조)를 포함한다. |  |  |  | 2.1.4 2.2.3 2.3.5 | L |  |
| 6.5 | 보이스피싱 의심 패턴 분석 API | 탐지 모델을 사용하여 전사 텍스트 내 보이스피싱 의심 키워드를 분석하고 위험도 점수를 산출한다. |  |  |  |  | 1.2 |  |  |
| 6.5.1 |  |  | 탐지 모델로 전달된 전사 텍스트에서 핵심 의심 키워드를 인식 및 검출한다. | 전사 텍스트,<br>핵심 키워드 사전 | CASE 1: 정상 텍스트에서 키워드 미검출<br>CASE 2: 1개 이상 의심 키워드 검출<br>CASE 3: 빈 텍스트 입력 | CASE 1: 키워드 사전 접근 실패<br>CASE 2: 텍스트 형식 오류<br>CASE 3: 모델 처리 시간 초과 | 1.1.3 | H |  |
| 6.5.2 |  |  | 탐지 모델은 검출한 의심 항목에 사전 학습된 위험도 가중치를 부여하고, 반복 발생 시 위험도 점수를 가산한다. | 의심 항목 목록,<br>위험도 가중치 맵,<br>반복 횟수 정보 | CASE 1: 정상 항목만 포함된 목록<br>CASE 2: 의심 항목 1개 포함<br>CASE 3: 동일 의심 항목 반복 포함 | CASE 1: 가중치 맵 접근 실패<br>CASE 2: 목록 내 형식 오류 데이터<br>CASE 3: 반복 가산 로직 오류 | 1.2.1 | H |  |
| 6.6 | 피싱 의심 메시지 내용 분석 API | 3.2에 정의된 분석 로직을 수행하는 API를 제공한다. |  |  |  |  | 3.2 |  |  |
| 6.6.1 |  |  | 전처리된 메세지 텍스트를 전달받아 사전 학습된 모델에 입력한다. | 전처리된 텍스트,<br>모델 입력 포맷 규칙 | CASE 1: 규칙에 맞는 유효한 텍스트<br>CASE 2: 최소 길이 충족<br>CASE 3: 모델 최대 입력 길이 이하 | CASE 1: 텍스트 포맷 오류<br>CASE 2: 텍스트 내용 없음<br>CASE 3: 모델 최대 입력 길이 초과 | 3.2.2 | H |  |
| 6.6.2 |  |  | 입력된 데이터를 키워드 빈도 및 가중치 기반으로 최종 위험도 점수를 합산하여 반환한다. | 모델 입력 텍스트,<br>키워드 빈도수,<br>키워드 가중치 값 | CASE 1: 정상적인 텍스트 및 가중치 입력<br>CASE 2: 위험도 점수 0점<br>CASE 3: 위험도 최대 점수 | CASE 1: 키워드 빈도수/가중치 값 누락<br>CASE 2: 비정상적인 가중치 값(음수)<br>CASE 3: 점수 합산 로직 오류 | 3.2.3 | L |  |
